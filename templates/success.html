{% extends 'base.html' %}

{% block title %}Order Placed - Anupam SweatsShop{% endblock %}

{% block content %}
<div class="success-container">
    <div class="success-content">
        <div class="success-icon">âœ“</div>

        <h1>Order Placed Successfully!</h1>
        <p class="success-message">Thank you for your purchase, {{ order.customer_name }}!</p>

        <div class="order-details">
            <div class="detail-box">
                <h3>Order Number</h3>
                <p class="detail-value">{{ order.order_number }}</p>
            </div>

            <div class="detail-box">
                <h3>Order Date</h3>
                <p class="detail-value">{{ order.created_at.strftime('%B %d, %Y at %I:%M %p') }}</p>
            </div>

            <div class="detail-box">
                <h3>Order Total</h3>
                <p class="detail-value">${{ "%.2f"|format(order.total_amount) }}</p>
            </div>

            <div class="detail-box">
                <h3>Order Status</h3>
                <p class="detail-value status-{{ order.status.lower() }}">{{ order.status }}</p>
            </div>
        </div>

        <div class="items-summary">
            <h2>Order Items</h2>
            <table class="items-table">
                <thead>
                    <tr>
                        <th>Product</th>
                        <th>Size</th>
                        <th>Color</th>
                        <th>Quantity</th>
                        <th>Price</th>
                        <th>Subtotal</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in order.items %}
                    <tr>
                        <td>{{ item.product.name }}</td>
                        <td>{{ item.size }}</td>
                        <td>{{ item.color }}</td>
                        <td>{{ item.quantity }}</td>
                        <td>${{ "%.2f"|format(item.price_at_purchase) }}</td>
                        <td>${{ "%.2f"|format(item.quantity * item.price_at_purchase) }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="shipping-info">
            <h2>Shipping Address</h2>
            <p>
                {{ order.shipping_address }}<br>
                {{ order.shipping_city }}, {{ order.shipping_state }} {{ order.shipping_zip }}<br>
                <strong>Email:</strong> {{ order.customer_email }}<br>
                {% if order.customer_phone %}<strong>Phone:</strong> {{ order.customer_phone }}{% endif %}
            </p>
        </div>

        <div class="next-steps">
            <h2>What's Next?</h2>
            <ol>
                <li>We'll process your order and send you a confirmation email</li>
                <li>Your order will be prepared for shipment within 1-2 business days</li>
                <li>You'll receive a tracking number via email when your order ships</li>
                <li>Enjoy your new sweatwear!</li>
            </ol>
        </div>

        <div class="success-actions">
            <a href="/shop" class="btn btn-primary">Continue Shopping</a>
            <a href="/orders" class="btn btn-secondary">View All Orders</a>
        </div>
    </div>
</div>
{% endblock %}